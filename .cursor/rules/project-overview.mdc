---
description: 提供项目的整体架构、技术栈、主要功能和开发工作流程的高级概述。
alwaysApply: true
---
# Project Overview Rule

## 行星时计算器项目概览

**这是一个基于 Next.js 15 构建的行星时计算器应用，使用 App Router 架构。**

### 项目核心功能
- 根据地理位置和日期计算行星时
- 实时显示当前行星时
- 地理定位和手动位置输入
- 响应式设计，支持桌面和移动设备
- 完整的 SEO 优化

### 技术栈
- **框架**: Next.js 15 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS v4 + LightningCSS
- **包管理**: Yarn (必需)
- **地图**: Google Maps API
- **时区**: date-fns-tz
- **图标**: Lucide React
- **PWA**: next-pwa

### 项目结构

#### 核心目录
- **`src/app/`** - Next.js App Router 页面和 API 路由
- **`src/components/`** - React 组件库
- **`src/utils/`** - 工具函数和 SEO 工具
- **`src/types/`** - TypeScript 类型定义
- **`src/services/`** - 业务逻辑服务

#### 重要组件目录
1. **`src/components/Calculator/`** - 行星时计算器相关组件
2. **`src/components/SEO/`** - SEO 优化组件
3. **`src/components/Layout/`** - 布局组件
4. **`src/components/UI/`** - 通用 UI 组件

#### 配置文件
- **[next.config.ts](mdc:next.config.ts)** - Next.js 配置，包含 PWA 设置
- **[tailwind.config.js](mdc:tailwind.config.js)** - Tailwind CSS 配置
- **[postcss.config.mjs](mdc:postcss.config.mjs)** - PostCSS 配置
- **[tsconfig.json](mdc:tsconfig.json)** - TypeScript 配置
- **[package.json](mdc:package.json)** - 项目依赖和脚本

### 主要页面
1. **首页** (`src/app/page.tsx`) - 行星时计算器主界面
2. **关于页** (`src/app/about/page.tsx`) - 项目介绍
3. **博客** (`src/app/blog/`) - 行星时相关文章
4. **隐私政策** (`src/app/privacy/page.tsx`)
5. **服务条款** (`src/app/terms/page.tsx`)

### API 路由
- **`src/app/api/maps/`** - Google Maps 相关 API
  - `autocomplete/` - 地址自动完成
  - `geocode/` - 地理编码
  - `placeDetails/` - 地点详情
  - `timezone/` - 时区信息

### SEO 功能
- 动态元数据生成
- 结构化数据 (JSON-LD)
- 自动 Sitemap 生成
- Open Graph 和 Twitter Card
- 面包屑导航

### 开发工作流
1. **开发**: `yarn dev` - 启动开发服务器
2. **构建**: `yarn build` - 构建生产版本
3. **检查**: `yarn lint` + `yarn typecheck` - 代码质量检查
4. **清理**: `yarn clean` - 清理缓存

### 重要注意事项
- **必须使用 Yarn** 而不是 npm（LightningCSS 兼容性）
- 开发构建目录为 `.next-dev`，生产构建为 `.next`
- 支持 PWA 功能，自动生成 Service Worker
- 完整的 TypeScript 类型安全

### 相关文档
- **[README.md](mdc:README.md)** - 完整的项目文档和故障排除指南
- **`.cursor/rules/yarn-only.mdc`** - Yarn 使用规则
- **`.cursor/rules/tailwind-v4.mdc`** - Tailwind CSS v4 配置规则
